---
// This page is SSR
export const prerender = false

const {slug} = Astro.params as {slug: string}

const data = await fetch(`https://jsonplaceholder.typicode.com/posts/${slug}`)
const post = await data.json()
const { title, body } = post as { title: string; body: string }

if(title === undefined || body === undefined) {
  return Astro.redirect('/blog')
}
---

<h1>{title}</h1>
<p>{body}</p>